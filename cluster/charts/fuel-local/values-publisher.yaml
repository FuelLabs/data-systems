fuel-streams-publisher:
  imagePullSecrets: []
  replicaCount: 1
  image:
    repository: "fuel-streams-publisher"
    pullPolicy: Never
    tag: latest

  service:
    type: ClusterIP
    port: 4000
    metrics_port: 9000

  livenessProbe:
    httpGet:
      path: /v1/health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 5
    failureThreshold: 3

  readinessProbe:
    httpGet:
      path: /v1/health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    failureThreshold: 3

  initContainers:
    - name: update-db-folder
      image: alpine:latest
      imagePullPolicy: IfNotPresent
      command: ["/bin/chown"]
      args: ["-R", "1000:1000", "/mnt/db"]
      volumeMounts:
        - name: rocks-db
          mountPath: /mnt/db
    - name: update-temp-folder
      image: alpine:latest
      imagePullPolicy: IfNotPresent
      command: ["/bin/chown"]
      args: ["-R", "1000:1000", "/tmp"]
      volumeMounts:
        - name: tmp-folder
          mountPath: /tmp

  volumeClaimTemplates:
    - metadata:
        name: rocks-db
      spec:
        accessModes: ["ReadWriteOnce"]
        storageClassName: standard
        resources:
          requests:
            storage: 8Gi
    - metadata:
        name: tmp-folder
      spec:
        accessModes: ["ReadWriteOnce"]
        storageClassName: standard
        resources:
          requests:
            storage: 5Gi

  volumeMounts:
    - name: rocks-db
      mountPath: "/mnt/db"
      readOnly: false
    - name: tmp-folder
      mountPath: "/tmp"
      readOnly: false

  podSecurityContext: {}
  securityContext:
    capabilities:
      drop: [ALL]
    readOnlyRootFilesystem: true
    runAsNonRoot: true
    runAsUser: 1000

env:
  RELAYER_V2_LISTENING_CONTRACTS: "0xAEB0c00D0125A8a788956ade4f4F12Ead9f65DDf"
  RELAYER_DA_DEPLOY_HEIGHT: "20620434"
  RELAYER_LOG_PAGE_SIZE: "2000"
  SYNC_HEADER_BATCH_SIZE: "100"
  NATS_URL: "nats:4222"
  P2P_PORT: "30333"
  RESERVED_NODES: "/dnsaddr/mainnet.fuel.network"
  CHAIN_CONFIG: "mainnet"
  PUBLISHER_MAX_THREADS: "32"
  DB_PATH: "/mnt/db/"
  POA_INSTANT: "false"
  SERVICE_NAME: "NATS Publisher Node"
