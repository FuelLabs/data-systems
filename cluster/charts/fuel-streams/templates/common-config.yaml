{{- if .Values.commonConfigMap.enabled  }}
{{- $commonConfigMap := .Values.commonConfigMap }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  {{- include "k8s.resource-metadata" (dict "root" . "context" $commonConfigMap "name" "config") | nindent 2 }}
data:
  {{ $commonConfigMap.data | toYaml | nindent 2 }}
{{- end }}
{{- if .Values.localSecrets.enabled }}
{{- $localSecrets := .Values.localSecrets }}
---
apiVersion: v1
kind: Secret
metadata:
  {{- include "k8s.resource-metadata" (dict "root" . "context" $localSecrets "name" "keys" "component" "common") | nindent 2 }}
stringData:
  {{ $localSecrets.data | toYaml | nindent 2 }}
{{- end }}
